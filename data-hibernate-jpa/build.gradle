dependencies {
    annotationProcessor "io.micronaut:micronaut-inject-java:$micronautVersion"
    annotationProcessor "io.micronaut:micronaut-graal:$micronautVersion"
    compile project(":data-runtime")
    compile project(":data-tx-hibernate")
    compile "io.micronaut.configuration:micronaut-hibernate-jpa:1.2.3", {
        exclude group:'org.jboss.spec.javax.transaction', module:'jboss-transaction-api_1.2_spec'
        exclude group:'org.jboss:jandex', module:'jar'
        exclude group:'io.micronaut', module:'micronaut-spring'
        exclude group:'org.springframework', module:'spring-aop'
        exclude group:'org.springframework', module:'spring-orm'
        exclude group:'org.springframework', module:'spring-jdbc'
        exclude group:'org.springframework', module:'spring-expression'
        exclude group:'org.javassist', module:'javassist'
        exclude group:'io.micronaut.configuration', module:'micronaut-hibernate-validator'
        exclude group:'io.micronaut.configuration', module:'micronaut-hibernate-jpa-spring'
    }

    testCompile project(":data-tck")

    testAnnotationProcessor "io.micronaut:micronaut-inject-java:$micronautVersion"
    testAnnotationProcessor project(":data-processor")
    testCompile "io.micronaut:micronaut-inject-groovy:$micronautVersion"
    testCompile project(":data-processor")
    testRuntime "com.h2database:h2"
    testRuntime "io.micronaut.configuration:micronaut-jdbc-tomcat"

//    compileTestGroovy.groovyOptions.forkOptions.jvmArgs = ['-Xdebug', '-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005']

//    compileTestJava.options.fork = true
//compileTestJava.options.forkOptions.jvmArgs = ['-Xdebug', '-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005']
}